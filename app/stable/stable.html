<!DOCTYPE HTML>
<html>
<head>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="rainbow.js" ></script>
<script type="text/javascript">
 
  var scs = {
    Shooter: {
        data: [], 
		title: "Pew Pew",
		color: "Red",
		div: "chartContainerc",
		tab: "tab3",
		assocvar: Shooter
	},
	Intake: {
		data: [], 
		title: "Sucker",
		color: "Blue",
		div: "chartContainerb",
		tab: "tab2",
		assocvar: Intake
	},
	Drivebase: {
		data: [], 
		title: "Dirvebass",
		color: "Green",
		div: "chartContainera",
		tab: "tab1",
		assocvar: Drivebase
	},
	Arm: {
		data: [], 
		title: "Leg",
		color: "Dark",
		div: "chartContainerab",
		tab: "tab1",
		assocvar: Arm
	}
};
	function findTabSubset(tabName){
		var subset = [];
		for(v in scs){
			if(scs[v].tab == tabName)
				subset.push(v);
		}
		return subset;
	}
   $(document).ready(function(e) {
	   /*var which = "Drivebase"
	   scs[which].data.push({y: 25});
	   alert(scs[which].data[2].y);*/
    CanvasJS.addColorSet("Blue",
                [//colorSet Array
                "#0070FF",             
                ]);
	CanvasJS.addColorSet("Green",
                [//colorSet Array
                "#00AA00",             
                ]);
	CanvasJS.addColorSet("Red",
                [//colorSet Array
                "#FF0000",             
                ]);
	CanvasJS.addColorSet("Dark",
                [//colorSet Array
                "#222222",             
                ]);
	CanvasJS.addColorSet("Light",
                [//colorSet Array
                "#DDDDDD",             
                ]);
	genall();
	});
  	  
	  function addrand(handler){
		  add(srand(), handler);
		  generate(handler);
	  }
	  function srand(){
		 return Math.random() * 100; 
	  }
	  function add(value, handler){
		  scs[handler].data.push({y: value});
	  }
	  function randoms(handler){
		  getdata(handler);
		  generate(handler);
	  }
	  function getdata(handler){
		  $.getJSON('stablejson.php',function(datajson) {
			  add(datajson, handler);
			  generate(handler);
			  
		  });
	  }
      function generate (handler) {
          scs[handler].assocvar = new CanvasJS.Chart(scs[handler].div, {
              theme: "theme1",//theme1
              
			  colorSet: scs[handler].color,
			  
			  title:{
                  text: scs[handler].title              
              },
              data: [              
              {
// Change type to "bar", "splineArea", "area", "spline", "pie",etc.
                  type: "line",
                  dataPoints: scs[handler].data
              }
              ]
          });
          scs[handler].assocvar.render();
      }
	   var Drivebase;
	   var Intake;
	   var Shooter;
	   var Arm;
	   function genall(){
		   generate("Intake");
		   generate("Drivebase");
		   generate("Shooter");
		   generate("Arm");
	   }
	   function getall(){
		   $.getJSON('stablejson.php',function(datajson) {
			  add(datajson, "Intake");
			  add(Math.log(datajson), "Drivebase");
			  add(datajson*Math.sin(datajson), "Shooter");
			  add(datajson + 100, "Arm");
			  genall();
		  });
	   }
	  setInterval(function(){
		  getall();
		  }, 1000);
  </script>
  <!--<script type="text/javascript" src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>-->
  <script type="text/javascript" src="canvasjs-1/canvasjs.min.js"></script>
<link href="css.css" rel="stylesheet" type="text/css">
</head>
<body>

<h1 style="font-family:Com'Comic Sans MS', cursive">Teh Chezy Pofs Deta Lawgr</h1>

<div id="usual1" class="usual" style="border:none"> 
  <ul> 
    <li><a name="tab1" href="#tab1" class="selected">Drivebase</a></li> 
    <li><a name="tab2" href="#tab2">Intake</a></li> 
    <li><a name="tab3" href="#tab3">Shooter</a></li> 
  </ul> 
  <div class="usual" id="tab1">
      <div id="chartContainera" style="height: 300px; width: 100%;"></div><br>
      <div id="chartContainerab" style="height: 300px; width: 100%;"></div>
  </div> 
  <div class="usual" id="tab2"><div id="chartContainerb" style="height: 300px; width: 100%;"></div></div> 
  <div class="usual" id="tab3"><div id="chartContainerc" style="height: 300px; width: 100%;"></div></div> 
</div> 
<script src="tabbed.js"></script>
<script type="text/javascript"> 

  $("#usual1 ul").idTabs(); 
</script>
<script>
  $('h1').rainbow({ 
    colors: [
        '#FF0000',
        '#f26522',
        '#fff200',
        '#00a651',
        '#28abe2',
        '#2e3192',
        '#6868ff'
    ],
    animate: true,
    animateInterval: 100,
    pad: false,
    pauseLength: 100,
});
	$( ".usual a" ).bind( "click", function() {
		var subset = findTabSubset($(this).attr("name"));
	  	for(var v in subset){
			generate(subset[v]);
		}
	});
  </script>
  <div id="extra"></div>
</body>
</html>